<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <title>Setup</title>
    <link rel="stylesheet" type="text/css" href="css/common.css" />
    <link rel="stylesheet" type="text/css" href="css/screen.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/_print.css" media="print" />

  </head>
  <body>
    <script type="text/javascript">prefix='';	</script>

    <script src="templates/header.js" type="text/javascript"></script>
    <div id="left">
      <script src="templates/left.js" type="text/javascript"></script>
    </div>
  
    <div id="content">
	
	
    <h2>Classpath Setup</h2>

    <p>In order to run the examples provided in the documentation, you
    need to add the following jars to your class path:
    </p>

    <ul>
      <li>logback-core-${project.version}.jar</li>
      <li>logback-classic-${project.version}.jar</li>
      <li>logback-examples-${project.version}.jar</li>
      <li>slf4j-api-${slf4j.version}.jar</li>
    </ul>
    
    <p>The <em>logback-*.jar</em> files are part of the logback
    distribution whereas <em>slf4j-api-${slf4j.version}.jar</em> ships
    with <a href="http://www.slf4j.org">SLF4J</a>, a separate project.
    </p>
    


    <h3><a href="">Running from the command line</a></h3>
    
    <p>Assuming your current directory is
    <em>$LOGBACK_HOME/logback-examples</em>, where
    <em>$LOGBACK_HOME</em> stands for the directory where you
    installed logback, you can launch the first sample application,
    <em>chapters.introduction.HelloWord1</em> with the following command:
    </p>

    <p class="source">java -cp lib/slf4j-api-${slf4j.version}.jar;../logback-core-${project.version}.jar;\
 ../logback-classic-${project.version}.jar;logback-examples-${project.version}.jar\
 chapters.introduction.HelloWorld1</p>

   <p>It is more convenient to set the CLASSPATH environment variable
   once and for all before running the examples.
   </p>

   <p>The <em>setClasspath.cmd</em> script located in the
   $LOGBACK_HOME/logback-examples folder will configure the class path
   for the MS Windows platform. For Unix, you can use
   <em>setClasspath.sh</em>.
   </p>

   <p>Please edit the script in order to adapt the <em>LB_HOME</em> variable 
   to match your local environment.</p>
   
   <p>Please be aware that many examples will launch Java classes
   along with configuration files. To access these files by using the
   same commands as written in the documentation, you will need to
   issue the commands from within the
   <em>$LOGBACK_HOME/logback-examples</em> directory.
   </p>

   <h3><a name="SMTP" href="#SMTP"><code>SMTPAppender</code> requires
   JavaMail API</a></h3>

   <p><code>SMTPAppender</code> related examples require the JavaMail
   API version 1.4 or later. Once you <a
   href="http://java.sun.com/products/javamail/downloads/index.html">download
   JavaMail</a>, you need to place <em>mail.jar</em> on your class
   path.</p>
   

   <h3><a name="gEventEvaluator"
   href="#gEventEvaluator"><code>GEventEvaluator</code> requires the
   Groovy runtime</a></h3>
   
   <p><code>GEventEvaluator</code> depends on the Groovy runtime. It
   was tested with Groovy version 1.7.2.
   </p>
   

   <h3><a name="janino" href="#janino">Evaluators and more
   specifically <code>JaninoEventEvaluator</code> require
   Janino</a></h3>
   
   <p>The evaluator examples which are mostly based on
   <code>JaninoEventEvaluator</code> require <a
   href="http://docs.codehaus.org/display/JANINO/Home"><b>Janino</b></a>
   version 2.5.10 or later. Once you have downloaded Janino, you need to
   place <em>janino.jar</em> on your class path.</p>
   
    

   <h3><a name="ide" href="#ide">Building with an IDE</a></h3>
   
   <p>If you wish to contribute to hack to the project or just hack it
   for your own needs, you will probably want to import logback as a
   project into your favorite IDE. Logback uses Maven as its build
   tool. The Scala language is used in certain logback test
   cases. Moreover, logback offers a Groovy-based configurator so
   there is a dependency on the Groovy language as well. It follows
   that your IDE should have plugins for Maven, Scala and Groovy in
   order to <em>build</em> logback from your within IDE. The
   Scala+Groovy dependecy just mentioned are <em>build-time</em>
   dependencies. The only mandatory logback dependency at runrime is
   the JRE, unless of course you wish to use the Groovy configurator
   in which case Groovy runtime will be a required dependency as
   well. Also note that building from the command line is fairly
   trivial, the command 'mvn install' given from $LOGBACK_HOME folder
   should suffice. </p>

   <h3>Building logback with IntelliJ IDEA</h3>

   <p>Assuming you have the latest version of IntelliJ IDEA installed,
   the only required additional plugin is the Scala plugin. IntelliJ
   IDEA supports Maven as well as Groovy out of the box. Once you have
   the Scala plugin installed, you can import logback into
   IDEA. Select File&rarr; New Project &rarr; Import from external
   model&rarr; Maven, then select $LOGBACK_HOME as the Root
   directory. The import should finish successfully in a few
   seconds. If you import logback before the scala-plugin is
   installed, you would need to re-import logback as a project after
   the Scala plugin is installed.</p>

   <h3>Building with Eclipse</h3>

   <p>Building logback under Eclipse is a little trickier. Here are
   instructions for building logback under Eclipse in 61 easy steps.
   </p>

   <p>The author does not wish to unduly disparage
   <code>m2eclipse</code>. However, as of this writing that is October
   2011, it appears that the key to building logback under Eclipse is
   to avoid using <code>m2eclipse</code>. If you have
   <code>m2eclipse</code> installed, you can disable it by removing
   the Maven Nature for a given project. And without further ado here
   are the steps:
   </p>
   

   <ol>
     <li>Install Eclipse Indigo, aka Eclipse 3.7</li>
     <li>in <em>eclipse.ini</em> file modify the parameter "mx",
     i.e. change -Xmx384m to -Xmx1384m</li>

     <li>In Eclipse, select Help &rarr; Intall new Software &rarr;
     Work with <a
     href="http://dist.springsource.org/release/GRECLIPSE/e3.7/">http://dist.springsource.org/release/GRECLIPSE/e3.7/</a>
     and then Select "Groovy-Eclipse Feature". Installation of other
     plugins in particular "m2e Configurator for Groovy-Eclipse" is
     <b>not</b> necessary</li>

     <li>Similar to the previous step, install Scala IDE for Eclipse
     plugin from <a
     href="http://download.scala-ide.org/releases-29/2.0.0-beta">http://download.scala-ide.org/releases-29/2.0.0-beta</a>. Installation
     of "JDT Weaving" or "Scala IDE for Eclipse Source feature" are
     not necessary.</li>

     <li><pre>cd $LOGBACK_HOME</pre>

     where $LOGBACK_HOME stands for the location where you cloned the
     logback project from github </li>

     <li>In case they exist, remove <em>.settings</em>,
     <em>.classpath</em>, <em>.project</em> folders (again if any)
     under $LOGBACK_HOME and its sub-folders. Somehow, this step seems
     to be crucial.</li>
     
     <li>From the command line, run <code>mvn eclipse:eclipse</code>
     in $LOGBACK_HOME</li>

     <li>In Eclipse, import the logback project: Import&rarr;
     General&rarr; Existing Prokects into Workspace, select
     $LOGBACK_HOME folder for the import
     </li>   

    
     <li>In Eclipse, add the scala nature to logback-core project:
     (right click on logback-core project&rarr; Configure&rarr; Add
     Scala Nature)
     </li>   
     
     <li>In Eclipse, remove the
     logback-classic/target/generated-sources/groovy-sttubs/main
     directory from the list of source folders (logback-classic&rarr;
     project properties &rarr; Java Build Path)
     </li>   

     <li>In Eclipse, clean all projects in Eclipse (Project &rarr;
     Clean)
     </li>   

     <li>In Eclipse, select logback-classic project and convert it to
     "Groovy project" (right click on logback-classic project &rarr;
     Configure &rarr; Convert Groovy to Project)
     </li>   
     
   </ol>

   <p>The above should also work for Helios (Eclipse 3.6). The only
   difference is that the Groovy-Eclipse feature needs to be installed
   from <a
   href="http://dist.springsource.org/release/GRECLIPSE/e3.6/">http://dist.springsource.org/release/GRECLIPSE/e3.6/</a>.
   </p>

	
   <script src="templates/footer.js" type="text/javascript"></script>
</div>
</body>
</html>
